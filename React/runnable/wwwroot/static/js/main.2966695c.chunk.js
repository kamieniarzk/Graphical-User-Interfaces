(this.webpackJsonpcal=this.webpackJsonpcal||[]).push([[0],{28:function(e,t,a){e.exports=a(57)},51:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(26),o=a.n(r),l=a(9),u=a(2),m=a.n(u),s=a(1),i=a(8),d=a.n(i),f=(a(51),Object(s.f)((function(e){var t=e.match.params.date?m()(e.match.params.date):null,a=Object(n.useState)(t||m()()),r=Object(l.a)(a,2),o=r[0],u=r[1],s=Object(n.useState)(m()()),i=Object(l.a)(s,1)[0],f=Object(n.useState)([]),h=Object(l.a)(f,2),p=h[0],E=h[1];Object(n.useEffect)((function(){v()}),[]);for(var v=function(){d.a.get("/api/all/").then((function(e){return e.data.data})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e.map((function(e){return m()(e.Date)}));E(t)})).catch((function(e){alert(e)}))},b=m.a.weekdaysShort().map((function(e){return c.a.createElement("td",{key:e,className:"week-day"},e)})),y=[],Y=0;Y<m()(o).startOf("month").format("d");Y++)y.push(c.a.createElement("td",{key:87*Y,className:"day-empty"},""));for(var D=[],N=function(t){var a=t===parseInt(i.format("D"))&&o.month()===i.month()?"day-current":"day",n=m()(o);n.set("date",t),p.find((function(e){return e.format("DD-MM-YYYY")===n.format("DD-MM-YYYY")}))&&(a+=" day-event");var r=m()([parseInt(o.year()),parseInt(o.month()),t]).format("YYYY-MM-DD");D.push(c.a.createElement("td",{key:t,className:a,onClick:function(t){!function(t,a){e.history.push("/day/".concat(a))}(0,r)}},c.a.createElement("span",null,t)))},M=1;M<=o.daysInMonth();M++)N(M);var O=[].concat(y,D),j=[],g=[];O.forEach((function(e,t){if(t%7!==0)g.push(e);else{var a=g.slice();j.push(a),(g=[]).push(e)}if(t===O.length-1){var n=g.slice();j.push(n)}}));var k=j.map((function(e,t){return c.a.createElement("tr",{key:100*t},e)}));return c.a.createElement("div",{className:"calendar"},c.a.createElement("table",{className:"calendar-table"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"calendar-header"},c.a.createElement("td",{colSpan:"1",className:"nav-month"},c.a.createElement("i",{className:"arrow prev fa fa-fw fa-chevron-left",onClick:function(e){!function(){var e=m()(o).subtract(1,"month");u(e)}()}})),c.a.createElement("td",{colSpan:"5",className:"month-label"},o.format("MMMM")+" "+o.format("Y")),c.a.createElement("td",{className:"nav-month"},c.a.createElement("i",{className:"arrow prev fa fa-fw fa-chevron-right right-icon",onClick:function(e){!function(){var e=m()(o).add(1,"month");u(e)}()}})))),c.a.createElement("tbody",null,c.a.createElement("tr",null,b),k)))})));var h=Object(s.f)((function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],o=a[1],u=m()(e.match.params.date).format("YYYY-MM-DD"),s=function(){d.a.get("/api/events/".concat(u)).then((function(e){return e.data.data})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e.map((function(e){return{id:e.Id,description:e.Description,date:m()(e.Date)}}));o(t)})).catch((function(e){alert(e)}))};Object(n.useEffect)((function(){s()}),[]);var i=[],f=[];return r.length>0?i=r.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,t.date.format("HH:mm")),c.a.createElement("td",{key:3*a},t.description),c.a.createElement("td",null,c.a.createElement("button",{className:"right-icon button-blue",onClick:function(){return e.history.push("/event/edit/".concat(t.id))}},"Edit")),c.a.createElement("td",null,c.a.createElement("button",{className:"button-red",onClick:function(){return e=t.id,void d.a.delete("/api/delete/".concat(e)).then((function(){s()})).catch((function(e){return console.error(e)}));var e}},"Delete")))}),f=c.a.createElement("tr",{className:"events-header"},c.a.createElement("td",null,"Time"),c.a.createElement("td",null,"Description"))):f=c.a.createElement("tr",null,c.a.createElement("td",{className:"events-header"},"There are no events on that day!")),c.a.createElement("div",null,c.a.createElement("h1",{className:"day-header"}," ",u," "),c.a.createElement("table",{className:"events-day"},c.a.createElement("thead",null,f),c.a.createElement("tbody",null,i)),c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{className:"button-green",onClick:function(){return e.history.push("/event/add/".concat(u))}},"Add new"),c.a.createElement("button",{className:"button-red",onClick:function(){return e.history.push("/home/".concat(u))}},"Close")))}));var p=Object(s.f)((function(e){var t=Object(n.useState)(m()(e.match.params.date).format("YYYY-MM-DD")),a=Object(l.a)(t,2),r=a[0],o=a[1],u=e.match.params.id,s=Object(n.useState)(""),i=Object(l.a)(s,2),f=i[0],h=i[1],p=Object(n.useState)(""),E=Object(l.a)(p,2),v=E[0],b=E[1];Object(n.useEffect)((function(){null!=u&&d.a.get("/api/event/".concat(u)).then((function(e){return e.data.data})).then((function(e){return JSON.parse(e)})).then((function(e){h(e.Description),b(m()(e.Date).format("hh:mm")),o(m()(e.Date.slice(0,10),"YYYY-MM-DD").format("YYYY-MM-DD")),console.log("slice = "+m()(e.Date.slice(0,10)).format("YYYY-MM-DD"))})).catch((function(e){alert(e)}))}),[]);var y=function(t){t.preventDefault();var a=D();console.log(a.date),d.a.post("/api/add/",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.history.push("/day/".concat(r))})).catch((function(t){alert("error occured"),e.history.push("/home")}))},Y=function(t){t.preventDefault();var a=D();console.log(a.date),d.a.post("/api/edit/",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.history.push("/day/".concat(r))})).catch((function(t){alert("error occured"),e.history.push("/home")}))},D=function(){var e=new FormData;return e.set("date",m()(r+" "+v).format("YYYY-MM-DDThh:mm")),e.set("description",f),e.set("id",u),e};return c.a.createElement("div",{className:"event-edit"},c.a.createElement("form",{onSubmit:function(e){return e.preventDefault(),null!=u?Y(e):y(e)}},c.a.createElement("label",{className:"input-label"},"Description:"),c.a.createElement("input",{type:"text",name:"description",onChange:function(e){h(e.target.value)},value:f}),c.a.createElement("label",{className:"input-label"},"Time:"),c.a.createElement("input",{type:"time",name:"time",onChange:function(e){b(e.target.value)},value:v}),c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{className:"button-green",type:"submit"},"Submit"),c.a.createElement("button",{className:"button-red",type:"button",onClick:function(){return e.history.push("/day/".concat(r))}},"Close"))))})),E=a(11);d.a.defaults.baseURL="http://localhost:5000/";var v=function(){return c.a.createElement(E.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/event/add/:date",component:p}),c.a.createElement(s.a,{path:"/event/edit/:id",component:p}),c.a.createElement(s.a,{path:"/day/:date",component:h}),c.a.createElement(s.a,{path:"/home/:date",component:f}),c.a.createElement(s.a,{path:"/",exact:!0,component:f}))))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.2966695c.chunk.js.map